{% extends "base.html" %}

{% block title %}Search Results for "{{ query }}"{% endblock %}

{% block content %}
<div class="search-results">
    <h2>Search Results for "{{ query }}"</h2>
    
    {% if results %}
    <p>Found {{ results|length }} result(s):</p>
    <ul>
        {% for paper in results %}
        <li>
            <a href="/paper/{{ paper.paper_id }}">
                <span class="paper-number">#{{ paper.paper_id }}</span>
                <span class="paper-title">{{ paper.title }}</span>
                <span class="paper-author">by {{ paper.author }}</span>
            </a>
            <div class="search-snippet">
                {% set snippet = paper.text[:200] + '...' %}
                {{ snippet }}
            </div>
        </li>
        {% endfor %}
    </ul>
    {% else %}
    <p>No results found. Try a different search term.</p>
    {% endif %}
</div>
{% endblock %}